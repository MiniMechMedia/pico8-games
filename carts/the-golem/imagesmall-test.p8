pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
--{GAMENAME}
--{AUTHORINFO} 

-- so could fit up to 12 images 

_img_formless_void = "â—â—ãƒ²â—‹â—â—â™¥ãƒˆâ€¦\nãƒŸRã€‚â~Oâ—ãƒ¦`ãƒ¥\0Â¹á¶ â—ãƒ¯Aâ–’Â²\0Â³â–‘â˜…<\0!â—ãƒ§ã¾Xâ´4â—†QR$â´$?â—ã¤\rBã‚ƒÂ¹â–®ã€( ãqÂ²ã‚Šá¶ â—PãƒŒã€‚A\tâ–ˆâ–ˆâ–‘ã‚ªãƒ‹\0â´ã€ŒDb9ğŸ±â¸Hâ—‹ãƒŠâ–‘â–‘ğŸ±Â¥ã€Aá¶ d2BA?TDãƒ•â¬†ï¸â–‘Hãƒ§aãƒƒã‚Šá¶ ãƒ¥ãƒâ€¦)â–®RkG@4âŒ‚p-Eâ–¡Â¥â—€Â¥â–¡ã‚œãƒƒaã‚±(ãƒŒ@NWã™FDãƒ’Ud&$Hã‚€á¶ â—œpCã£JFâ–ˆELãƒğŸ…¾ï¸â–¡Eâ–‘â—â˜…ãƒ­ã‚’!Â¥#â–¥ã‚œã‚=ğŸ±â–¡ã€ã‚‹`ãƒÂ¥Dã‚‡ã€ã‚»â€–ã‘hã‚¦Â³Â²pã&w#D$Hâ—‹ãƒ‹â™¥ãƒ‹\t#ğŸ…¾ï¸`ğŸ±â–¡ãƒTâ·ã†6C\0ã®ã—â¡ï¸â–¡[â–¡â§—\"â¬…ï¸â´?X~pâ˜…ã€ã‚Gâ¸âµOg@\"âã€ã‚»l9ã‚­â§—B$ğŸ˜GPâ—ãã•,/Hâ˜‰}ã‚‹â–®â–¡bã€ã‚Šâ¡ï¸!dm\\pJXãƒŒâ—€D?â˜‰q\r\r\nâ– ds@N\"\"ãjâ– !:ã‚„ãƒ«,PrHã‘Â¹âˆ§Gâ–‘Â¹#â–¤~ã‚ªãƒŸâ˜‰â–‘ãƒ¦DFFğŸ±(tâ–’â—€I4â—tq(ã“â™¥\nã‘Ë‡ã—$Aaãƒƒã‚ŒãƒD'â–®ğŸ…¾ï¸pâµ AÂ²Â¹ã‚N'â´Gâ™â– #(â– iã‚³â—€Gâ€¦ãƒ¥ãâ€–!@tâ¸ãƒ˜ã£Iâ¸râ–ˆâ–¥Eâ–¤â™ã€‚â´ã¤â˜ã¡â–‘\t,â¬…ï¸#ãƒ«â–‘â–‘ãƒŒ\"$A#ì›ƒáµ‰ãƒŒ\"0ãƒâ– â™Â³ã¾Hãƒ‹'u8â– [ã¬ã‚¿â™¥â´ãƒ›ğŸ…¾ï¸)â–¡ã£ãƒ¥!ãƒ ğŸ±â™âŒ‚â¡ï¸ã‚¢â€¦@wããƒ’â¡ï¸ã‚Š\"BXÂ¥\nãã«Â¥Zâ–¥xã‘Fã¸@ãƒ§aã•Cã•\tâ– â˜yGâ–®ãƒ’Dã¬âˆ§  Iã‚‰wZJãƒTã£âŒ‚ã‚€E\tãƒã‚ƒ]ã‚½â¬…ï¸â–®âˆ§$D@â˜…h!ã‚’â˜‰ã¬pB\"\"ã£á¶ aã‚¦\tj$ã•bD*áµ‡ã•Bã‚Œâ¬†ï¸ãƒ¥â§—ã^$â˜… â¡ï¸ãƒ§Ë‡â–¡!A4[&ã%ã¨R\rhâ€¦ãƒŠGãƒáµ‰ âˆ§Dããˆâ–®Nãƒ!ã‚. Tã®-â¡ï¸\"$ã¡ãƒ’â€¦ãƒ’ãƒªã‚¨6p&BNpğŸ…¾ï¸dXhXâ–®c#Aã‚»ãƒ£â´ãƒŒ%â–¶\"â¬‡ï¸@âœ½bã†ã®â–‘*iáµ‰$cãƒ«â€¦\"N`ì›ƒğŸ±HHãƒŒBâ—€ã€%Kã‚‹â´â¸ã‚“â¸ã²Ë‡â§—ã»â¸q$pqtã‚œã‚‚&â˜‰HÂ¥ã‚âœ½:â¡ï¸ãƒ¤â–®*Sâ˜‰â€¦Iâ˜'Â²pğŸ…¾ï¸kK(\"ã‚¿ã“ã£X!Râ¡ï¸8Â²â–¡GgPãƒ‹â´D:ã®Iâ–‘ãƒ’DãƒŸKã‚ã¾ãƒ]\nAaãƒ›ãƒ â–‘â–¤â™â–’dã‹ã²6\"ã£`ã¬Pã®:Idâ˜‰â—âŒ‚Mã¨Rãƒ¦ã†Hãƒ¥ã‚›Â²Tâ˜…ã†Y,CJâ˜…,,8â–‘Ë‡á¶œ(ã‚ã‚ŒA$â˜‰â˜…Hì›ƒcã‚¿ã‚…RJì›ƒâ™'â–®â˜…â˜‰â–’\"ã‚ƒs\",I#ãƒ­â—ã—HãƒŒâ– I8â´ãŸ,â˜â–‘â¡ï¸gFãŸFNãƒt$â˜Qã‚â–‘â–¡ã‚œã¦ğŸ…¾ï¸!ã‚“0\n\"$Bã£I\"Nâ–®â—âˆ§hãƒ¡RD&âœ½9ã—\"Bâ–®â´Qãƒ²ã‚‹Cã\\ã€Btì›ƒáµ‰! Gâ´&A%ã‚‹K!Nãƒ[â´Â²CTiã€‚ã£ãƒ©REâ—ãƒŠ\nã™ããŸDÂ¥áµ‰â—â¸â– ã«4$ã«d[â˜$YPh\tã‚±<Ë‡ã‚¢ì›ƒâŒ‚ãƒŒáµ‡â– dADã®â–®CÂ¹ã›mâ–®â§—aã‚¢:gÂ²$ãã®A$Xyá¶ ã‚«&â˜‰ã‚Šâ–®ã‚ã1'ãƒâ¸bã‚ªâ–®ã¬ã€ã‚‰,â—â–‘HEHã‚ªâ—aaã­â´Xâ€¦ã‚­â–¡9â™¥!ã€-â´Lqá¶œãª-ãƒ›Â³ãŸ-ã•ã‚}#ã‚¹s#Bã£#[\n%HğŸ±ã€BA)â–®Tãƒ«â˜…ã‘â™â–‘â˜B/pãƒã‚œã¦%*HGâ–¡ Pw#ã‚ƒRâ– :â™¥R,!â€–â–’\"BCã¾hh~+8ì›ƒ\"I9$â–‘â–‘)ã‚«e[ã‚Šã,â™¥â– ãhâ€¦&â–¥Â²Dâ™¥â—œlBâ´â¸qâ˜…â€–â—€Â¥â– ã€‚\\â™ãƒ©jâ–ˆâ˜‰\t\"ã‚±â€¦ãƒ¥!â—â€¦ áµ‰Bâ–¡â€–ã€ã£ã‚·Gãƒƒâ˜…,:IPâ¡ï¸ã‚±â—†ã‚…â—€Eâ¡ï¸ã¬Eì›ƒã­â˜ã¬ãƒ³,ãŸáµ‰ãƒŠâ¬‡ï¸â˜ãƒŒ\0LX(â™ªã‚;Ë‡$!ãƒ£ã‚…Râ´â¸4â™ªáµ‰qã•=â™¥ãƒkã—ãŸ(*G2?ãƒ¬ã»â—€$â–®CCã@ã‹â–’ãƒˆâ– â¸ğŸ±*â–¶â–¥$ğŸ˜wá¶ ã‚‹ã‚›BHh9â¡ï¸ã¾â–¡sáµ‰8ãŸã‚‹Vâ¬‡ï¸ã£Â¥iã‘ãƒ²â˜d4ğŸ…¾ï¸ãƒ‹ãƒ£ã‚‹C7ã€ã‚Fâ¡ï¸â´â¬…ï¸Â¹ã¾â·â·â€¦ãƒŒ@âˆ§ã£Rã‚«dcâ–¤}á¶ ãƒ¥ã²Hâˆ§Iã‚±7â™Aã‚‰,ğŸ…¾ï¸lDâ¡ï¸lâ˜…ãƒ­iã‚›ã£ã‚›Cì›ƒ_ãƒâ–‘0â¬†ï¸ãƒ’â˜…â–¡8ã­%GgHã‚Š!ã—6*Bâ–¡ã‚œCãƒ˜w+ì›ƒâ—€\rQ(â˜…$â˜…HHâ€¦wâ–ˆw\tã‚‹Iâ™,â¬…ï¸â˜â¬‡ï¸ãƒ©Ë‡ãƒ¥Cã‚ƒ_Jâ–¡ğŸ±ã‚½H,Hâ¬…ï¸ sÂ²Peâ–‘â–¥n?ã€_ãƒ«ğŸ…¾ï¸áµ‰ã—$hÂ²$áµ‰D@ã‚¢\tÂ¹ã­#Hã‚“Dã‚¿aQãƒ?\t_ãƒ«â–’ã‚*H ã‚$DAPãâ™¥ã‚»â– 4sã‚ã‚‹7â–¡$?ã€\\ã£â€¦â—!ã‚ãã®%\r\tRbNãƒ(ãƒ ã†ã‚â™¥ãƒªá¶ ãƒ©ã‚œCBB$ãƒŒâ´â´ã‚«$â¡ï¸ã‚ğŸ±sdâ˜…dâ¬…ï¸ã‚â—†ãƒ§PCãI]HJâ€¦(â–‘ãã‚â˜…M$â˜…\tãµCJâ–¥ã¨Â¥Dâ—â™¥ãƒ¤á¶ !ãƒ¥\"Dâ¡ï¸â¸Oâ– â–®â–¥:â™¥â¸â–¡ã‚ã—â–’lğŸ…¾ï¸ãƒ‹ããƒ â–®â—ã‚“!\"Abâµâ˜‰âœ½ã‘ã‚ƒ4â–’ã\0\"áµ‡Â¹ãƒ£BAá¶ %y\t#AIãË‡aHk$T â–¡â–®ãƒ’ã‚ƒÂ²\0ãŠã£ãƒŒã‚œãƒ ,ã«ã‚½Gâ˜ã¡%â´ãƒ› â€¦Mã‚«â– â–¡ã€\"â˜ â™¥Pâ—œ!ãƒã«d{)#ã†â˜…Â²2I\"$:â˜‰â˜‰Â¹â—€â´Iâ–¡?ã€Œwáµ‰ãƒ‹ãƒ¥ã‚Œãƒ¬ãƒâ¸â˜…â´hâ¸ãŸã€Â¹8ì›ƒâ—€Hã¬ã†Â¹#â˜‰y\râ´>â™¥ãƒ¤áµ‡áµ‡#ã¤â– âµ\0001\nEâ€¦B,â–‘â€–â¸~ãƒ©ã‚ˆX~R9â™¥pã‚‚â¬†ï¸âµâ€¦4Gâ–¡ 4HãDã‘@ã¬â€¦BBJãƒã€ã‚Œãƒ›ã‚œâ–‘8â¡ï¸ã‚¢â˜‰HÂ²ãƒ£dâ˜… âˆ§D\tPHâ—‹ãƒ¦â¡ï¸ã‚±8â™¥ãƒ\tã‚Dâ€¦â–’â·Â¥I\t$4â– â¸ãƒ’Â²HCãƒ§â™¥â€¦ãƒã‚œãƒã«-@Gâ¬…ï¸$â˜…@(Â²â€¦\táµ‰ã$Iã€ã‚‹ã‚Œâ–¤{áµ‰aã‚±ãª$qãƒ‹@&ã‚‰â¸Bt^â–®<â–’â–®â¡ï¸â§—ã¿ã‚œCCCãƒ©â™¥0ã‚ªãƒ˜ãŸãƒ¡Iâ™ã¯!\0Hãƒ§ã•sá¶ ã‚¦ã‚œâ¬†ï¸?Nãâ´\0I!Â³\0dâ˜…ğŸ±Hâœ½â€¦â¡ï¸ãƒâ—†ã‚¦ã‚œã²â–®ãƒ§dpâ˜‰â– Q â€–â¸\tã‚â– Bã‚‰XHs!á¶ !ãã‚$9Ë‡ãƒ²ã‚‹Hãƒ•âŒ‚ì›ƒ!!t\" â–’$Mã‚ªâ–’ã‚Šâ– #ã¯ã‚ƒã€ã‚Œì›ƒ]ã‚Œãƒ›_â–‘ãªâ–®ğŸ±Iâ–®â¬†ï¸Xâ–¡ãâ–¡ã‚ƒâ€–%ã‚Šã‚â–®ãƒ©ã€ã‚Œì›ƒ_ãƒ²$~â–®â¬…ï¸â–¡Dáµ‡â–¡C!â´ãY'5áµ‰bá¶ aã‚±ã«ã‚¦Gã‚ªãƒ§ãƒ‹:ã$â´<$!â–®2áµ‰â– ã€ãƒŒâ–®Câ–¥]ã‚Œãƒ¦â¡ï¸ã‚,<â–‘â™¥*D*4Fâœ½ã­\"áµ‡ã‚‰K$s ~Rã‚ˆãƒ¨ã‚…ãƒ¥aãƒ ãâ˜‰ã‚\"Bã€ã‚»% 7Hâ–‘Â¥â¸!â—ğŸ±Gãƒ¤)#ã‚¹K@Lâ™ª$ãŠâ– *Nã£â˜‰ã‚‚$ì›ƒá¶ ãƒŒã€‚ã‚ŒBã‚Œâ—ã€ŒG&â´âˆ§Gtã•â˜…&@ì›ƒÂ²ã‚‹ã‚‹ã£Jãƒ¥ã•Hâ—‹â–®ãƒƒâ–¶â˜‰â¬…ï¸â–’ã‚‰,âŒ‚â–‘dğŸ±,â¡ï¸â–‘ã‚‚Iâ¶â˜‰â˜…?â¸â—‹0ãƒŒã‚œğŸ˜,(I$ãƒ Yã€ŒIâ´ã‚­â´#$Jâ—€Dãƒ¢\"Jã‚­?â—œãƒ¦(âˆ§,â¸T8%â´Xâ–ˆ!ã‚½,âŒ‚]âµâ™¥â–®ãƒƒã€‚Cãƒ˜yÂ²!ã‚ã™HshEâ–ˆpâ€¦ãƒâ–¤â¬‡ï¸qâ–®ãƒ¥ã•q\ráµ‰ã—w!áµ‰ãƒMKã‚¦ã“ì›ƒã€â–’â´âµE$ã¬â€–râ– â˜‰HCã£hsáµ‰ãƒ{áµ‰Ë‡\r)áµ‡0YRã‚…MwÂ¹!á¶ \0!ãƒ â—†â—œã‚¹M0#ğŸ±5âˆ§râ– â–’3â–‘'ãƒŒ4â€¦â€¦ã‚,?ãƒ¯Cã¬Vãˆâ´ãƒ›â–‘4â–¥4ã™ãƒ$â—â–‘â–’ã€Œ?â¸Hqáµ‰!ãƒ<Ë‡ã‚³â¬…ï¸â–¡Lâ–’Vâ¬…ï¸áµ‰ã‚‚â€¦â¬†ï¸pâ¡ï¸\tdrâ¬‡ï¸â™ªâ– 4EË‡ã‚ãª!dIã€‚Aáµ‰ã4ã®D* ã‚³'Q%â™¥râ¶:Iâ´â™ª#Hãƒ’ã‚œãƒ?=\tlãã‚Šhâ˜…*ã®â–¡ã€!ãƒ *ã‚¦Â¹4DË‡%w#â—á¶œğŸ…¾ï¸jHMã‚…ãƒ©â´Jaâ€–Qãƒâ–®ã¬'â˜ãª\t$ãã²â—‹â€¦ãƒ§ â€¦âœ½ã‚‚â–¥â˜…EG,ãƒŠâ€¢Zâ¬†ï¸ã€‚ãƒŒ'â™ª â–¡â—€Dâ€¦â¡ï¸%~2>â–‘â™¥ã€Œ<ã‚µqã‚»ã‚ŠBEGâ€–3%â–¥ãƒ²â´â–’)=Â¹á¶ ã‚­Dâ™¥â˜…ã‚â¬†ï¸Ë‡ââ–‘ã¸ENã‚ªA!ãâ˜ã¬ãƒğŸ±8*4I:â€¦BGT}+ãƒ«ãƒƒãâ·6ã‚›ã‚»\"â´ãƒSğŸ±ã‚‰HHN)dãµâ€¦âˆ§ã›â—œ\t^Hã‚ªãƒ¢XI(â˜…ãáµ‰9ã‘6ã¿ Aãƒ³JãƒŠã¨=â˜… ã•â—†ã‚…Gâ˜…,$â™¥â¡ï¸DIã¸Yaã‚â–®â–®Aã™â˜…â™ª$wã¡â¸ã‚‡Iâ—€â´ã‚›Hã‚ªâ˜…ã‚ˆxwmnRHâ€¦ãƒA\tâ– âŒ‚BdI!#Aã‚‹K2$9\"Â¥\0â¡ï¸ã—~ã®ã¾ãƒ«ãâ¡ï¸%ã¡ãƒ‹$iã€Iã‚ˆ$ã‚¢s$Â³â—bâ–¡Â³ã€Œâ¬†ï¸Dâ¬†ï¸w#Hãƒ¥aãƒ†á¶œ\"M\nã²ãƒ¥dÂ²â¸â˜‰ã­ã‚‹%Fâ˜‰q\"@ãµIã‚ˆ4â¡ï¸â´Drã‹ã¦<ã‚\"%KeQ$vT\"â´â˜…Kã‚€â–’8@ãƒ’\"8ã•âˆ§/ã‚!!*HAáµ‰ãâ¬†ï¸ã­\"âµã‚ŠBXã¬ã‚ªãƒŒì›ƒã‚«Â²Wâ´ã¿ã²â™¥âˆ§â–®â·3\"Oã‚‰\0?ãƒªâ–¡HTì›ƒd Má¶ ã‚‰[\"8Aãƒ’â—ã‚½Iã‚fâ´ã†ã‚Šâ´@dâ¸ Ë‡d~ãƒ«ã•â˜‰ã‚‡E&ã“ãƒ¨ãƒ’\nRb.ã‚±-ã€ â™¥â´ãƒ¢â–¡Hâ€¦â–¡TË‡ã‚,â–®A+â–’QÂ²ã¨$â§—ãƒ¯*Xì›ƒImË‡*â–ˆã‚\tã¡Â²ã‚ªì›ƒáµ‰â– \\ã£Bã‚Œãƒ¦ãƒ¢(â§—â–‘\tbâ¸!!ãƒ©â– !ã‚Jã‚ãƒâ–¡ã‚Œâœ½ã¸ã‘Bã‚¹â˜‰ã­â–¡'0Â³ãƒ¯â–‘@I*ã‚»+â– ãƒ³Aâ˜‰!$â¬…ï¸ã‚‹Wãªãµãƒ‹â–¥\táµ‡ã€1â–¡â—€â§—ã‚œğŸ˜ğŸ…¾ï¸!!),N/â¸ãƒ‹\"â—‹A$ì›ƒ)\\ã²a(ã‚­â´â¸ãµ,â¸%âœ½â¡ï¸aaãƒ˜Hã†ã—ã‚­BBDâ™¥ãƒ‹á¶œâ–¡%â™GâµPãƒŒâ–’0â˜ì›ƒARPâ˜‰XXs\t\"$â¡ï¸0I\nâŒ‚~8'â– â¶!2ãƒ%ã¨â˜pR$ğŸ±â€¢âŒ‚Iãƒ³ã‚Œâˆ§b.â˜‰Iâ¸ã®I#ã|`$p/â—€ã¿â—Tã‚ƒEHã¸Qâ´ã‚ƒâ–¡Eã‚Šlâ–¡â–¡5â˜‰BIâ–¶â–¥$â€¦$!ãƒ²ã‚Šâ˜‰Dã†â¸ãˆâ¡ï¸mNáµ‰8ã€alI&â¶ã—$âŒ‚$pn\"â€–.â˜‰â´ã‚½á¶ ã‚…ã€‚âˆ§Dâ˜‰ãƒ.Bã‚‡ã€_â–¤ã†TJâ˜‰ã‚³ã‚& $@nã‘ã\nãDâ˜…Jâ—†ãƒ­â˜ã•DğŸ˜ãªã“zâ¬‡ï¸I8Bã€‚ãâ´â¡ï¸!$â¬…ï¸Qáµ‰ãƒ\nâ¬†ï¸DâŒ‚ãƒŒDIâ–¡â¸{\"ã‚‰ì›ƒáµ‰ã‚ ã­nã‚‡Q ã‚«ã­,ã¡Â¥Tâ™ª$8â€¦â—†Pâ´ ğŸ±!\0Dâ—œ$zâ–®`2p(ã®hãƒdrqiã€â¡ï¸â¸â€¦\t*Bnâ–‘â¸\nâ–‘â€¦â€¦â—!BTãŸâ–¡ã‘ã‚±â˜‰ã­ã€áµ‡â–¡ã¾H%Yã€â€–'ã­$A ã¬A$ãƒ­Gãƒ¡áµ‡ â–®P,.ã¸wâ–¡â–ˆ+\tã‚‡8iâ™â– â¡ï¸ã•â¸â¬‡ï¸D!ãâ€¦â€¦ãƒã‚›Cãƒ¨â¸%Dã‚ƒã‚â™ªâ–®ì›ƒkR(â§—â—€â˜…%â—ã‚‰d@â¡ï¸tâ˜…Â¹aãƒ â—†ã‚½ã€‚@â˜‰â–ˆâ–‘~)â– Ë‡btâ€–'áµ‰oâ™nã€4(â˜…Dáµ‰ã‚­â–¡â–®h4â—†ãƒŒã‚›ã‚Œâ–¤,â¸5Eã‚‚s pãƒŒâ´hu+ãƒªâˆ§:â–ˆHiã€Aáµ‰!ãƒ§ãƒŒâ–®ã‚ãdoâ–¶ì›ƒNã€â– â–¡ãƒâ–¤ãƒãâ–¡B*â–¡Dã‚ªH{á¶ ã‚¦â—€ã‚œâ–‘$Â¹#â–¡Náµ‡ããŸ\"!'ã¡8ãƒŠ*ã‚“â–®â˜…ã¯â–‘ãƒŒâ·ã‚­,â—†ã‚’ã‚œãƒ4ì›ƒ\0GÂ²â·7Fâ˜‰âŒ‚â§—\rãªâœ½â– â˜ã•â˜…â–¡$â–¡=â€¦â™¥ãƒ£â´.\táµ‰B$ğŸ…¾ï¸`!'$râ˜…nãƒ²eãƒ‹8ãƒãˆ'â´Cãƒ³â¡ï¸ãƒ¥BCãƒ²ãƒÂ¹âˆ§%â¡ï¸ã‚·=â–¶â¬…ï¸ã€â–¡-ã‚±ã$Cãƒ­â¡ï¸ãƒ•qâ–®s#ã¾sáµ‡â´8â¡ï¸â–®â™Ë‡ZT\\â¬†ï¸\tğŸ˜2CDâ˜…â¸XHcãƒˆã¾ãƒ•ãƒ¦ãƒ•ã‚„ãƒ²ãƒ¬ã‚·ãƒ‹ã‚¤?ì›ƒã‚¯ã‚€T(pÂ³GEãƒâãƒâ¬…ï¸RD`ãƒã€‚ã‚‹ã‚‹â—œâ´ãƒˆsãƒ²yã‚¨ãŠâ–ˆ\0"

byte_values = {
    ["0"] = 0, ["1"] = 1, ["2"] = 2, ["3"] = 3, ["4"] = 4,
    ["5"] = 5, ["6"] = 6, ["7"] = 7, ["8"] = 8, ["9"] = 9,
    ["a"] = 10, ["b"] = 11, ["c"] = 12, ["d"] = 13, ["e"] = 14, ["f"] = 15
}
function hex_to_byte(high_nibble, low_nibble)
    -- Combine the high and low nibbles to create a full byte value
    local byte_value = byte_values[high_nibble] + byte_values[low_nibble] * 16
    return byte_value
end

function escape_binary_str(s)
 local out=""
 for i=1,#s do
  local c  = sub(s,i,i)
  local nc = ord(s,i+1)
  local pr = (nc and nc>=48 and nc<=57) and "00" or ""
  local v=c
  if(c=="\"") v="\\\""
  if(c=="\\") v="\\\\"
  if(ord(c)==0) v="\\"..pr.."0"
  if(ord(c)==10) v="\\n"
  if(ord(c)==13) v="\\r"
  out..= v
 end
 return out
end

-- Define a function to parse the hex string and write it into memory
function hex_string_to_p8scii(hex_string)
	local ret = ''
    -- Iterate over the hexadecimal digits in the hex string two nibbles at a time
    for i = 1, #hex_string, 2 do
        -- Convert the hexadecimal nibbles to a byte value
        -- assert hex_string[i] != nil
        local byte_value = hex_to_byte(hex_string[i], hex_string[i+1])
        -- poke(mem_start + i/2, byte_value)
        ret ..= chr(byte_value)
    end
    return ret
end

-- local p8scii = escape_binary_str(hex_string_to_p8scii(image))
-- print(p8scii)
-- printh('"' .. p8scii .. '"', '@clip')

-- res = 0
function _init()
	poke(0x8000, ord(_img_formless_void, 1, #_img_formless_void))
	-- poke(0x0000, 1)
	-- poke(0x0002, 1)
	-- poke(0x0003, 1)
	px9_decomp(0,0,0x8000,sget,sset)
	-- memcpy(0, 0x8000, 0x1000)
	-- cstore()
end

function _draw()
	-- palt(0, false)
	spr(0,0,0,16,16)
	-- palt()
	-- print(res,7)
end


function
	px9_decomp(x0,y0,src,vget,vset)

	local function vlist_val(l, val)
		-- find position and move
		-- to head of the list

--[ 2-3x faster than block below
		local v,i=l[1],1
		while v!=val do
			i+=1
			v,l[i]=l[i],v
		end
		l[1]=val
--]]

--[[ 7 tokens smaller than above
		for i,v in ipairs(l) do
			if v==val then
				add(l,deli(l,i),1)
				return
			end
		end
--]]
	end

	-- bit cache is between 8 and
	-- 15 bits long with the next
	-- bits in these positions:
	--   0b0000.12345678...
	-- (1 is the next bit in the
	--   stream, 2 is the next bit
	--   after that, etc.
	--  0 is a literal zero)
	local cache,cache_bits=0,0
	function getval(bits)
		if cache_bits<8 then
			-- cache next 8 bits
			cache_bits+=8
			cache+=@src>>cache_bits
			src+=1
		end

		-- shift requested bits up
		-- into the integer slots
		cache<<=bits
		local val=cache&0xffff
		-- remove the integer bits
		cache^^=val
		cache_bits-=bits
		return val
	end

	-- get number plus n
	function gnp(n)
		local bits=0
		repeat
			bits+=1
			local vv=getval(bits)
			n+=vv
		until vv<(1<<bits)-1
		return n
	end

	-- header

	local
		w,h_1,      -- w,h-1
		eb,el,pr,
		x,y,
		splen,
		predict
		=
		gnp"1",gnp"0",
		gnp"1",{},{},
		0,0,
		0
		--,nil

	for i=1,gnp"1" do
		add(el,getval(eb))
	end
	for y=y0,y0+h_1 do
		for x=x0,x0+w-1 do
			splen-=1

			if(splen<1) then
				splen,predict=gnp"1",not predict
			end

			local a=y>y0 and vget(x,y-1) or 0

			-- create vlist if needed
			local l=pr[a] or {unpack(el)}
			pr[a]=l

			-- grab index from stream
			-- iff predicted, always 1

			local v=l[predict and 1 or gnp"2"]

			-- update predictions
			vlist_val(l, v)
			vlist_val(el, v)

			-- set
			vset(x,y,v)
		end
	end
end

__meta:cart_info_start__
cart_type: game
# Embed: 750 x 680
game_name: Game Template
# Leave blank to use game-name
game_slug: 
jam_info:
  - jam_name: TriJam
    jam_number: XX
    jam_url: null
    jam_theme: 'XXX'
tagline: XXXX
time_left: '0:0:0'
develop_time: ''
description: |
  
controls:
  - inputs: [X]
    desc: XXXX
hints: ''
acknowledgements: ''
to_do: []
version: 0.1.0
img_alt: XXXX
about_extra: ''
number_players: [1]
__meta:cart_info_end__


